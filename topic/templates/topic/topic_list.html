{% extends "base.html" %}
{% load humanize %}
{% block content %}
<style>
  .card {
    width: 18rem;
  }
</style>
<h1 class="m-3 text-center">Topic List</h1>
<div class="d-flex flex-wrap gap-3 justify-content-center my-3">
  {% for topic in topics %}
  <div class="card">
    <div class="card-body d-flex flex-column">
      <h5 class="card-title text-center"><a href="{% url 'topic_detail' topic.id %}">{{ topic.title }}</a></h5>
      <p class="card-subtitle text-center text-nowrap overflow-hidden text-truncate mb-1">{{ topic.keywords }}</p>
      <p class="card-subtitle text-center text-muted mt-auto"><b>P</b> {{ topic.paper_count|intcomma }} &middot; <b>C</b> {{ topic.citation_count|intcomma }} &middot; <b>S</b> {{ topic.star_count|intcomma }} &middot; <b>N</b> {{ topic.note_count|intcomma }}</p>
    </div>
  </div>
  {% endfor %}
</div>
<div class="m-3 text-center d-print-none">
  <form action="{% url 'topic_create' %}" method="get">
    <button {% if not user.is_authenticated %}disabled{% endif %} type="submit" class="btn btn-primary">Create new
      topic</button>
  </form>
</div>
{% endblock %}